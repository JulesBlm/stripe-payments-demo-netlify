!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=102)}([function(e,t,r){"use strict";var n=r(7),i=r(26),s=r(5),o=r(27),a=r(1),c=r(2),u={}.hasOwnProperty,d=new n.Agent({keepAlive:!0}),p=new i.Agent({keepAlive:!0});function l(e,t){this._stripe=e,this._urlData=t||{},this.basePath=a.makeURLInterpolator(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=a.makeURLInterpolator(this.path),this.includeBasic&&this.includeBasic.forEach(function(e){this[e]=l.BASIC_METHODS[e]},this),this.initialize.apply(this,arguments)}l.extend=a.protoExtend,l.method=r(13),l.BASIC_METHODS=r(31),l.MAX_BUFFERED_REQUEST_METRICS=100,l.prototype={path:"",basePath:null,initialize:function(){},requestDataProcessor:null,validateRequest:null,createFullPath:function(e,t){return s.join(this.basePath(t),this.path(t),"function"==typeof e?e(t):e).replace(/\\/g,"/")},createResourcePathWithSymbols:function(e){return"/"+s.join(this.resourcePath,e||"").replace(/\\/g,"/")},createUrlData:function(){var e={};for(var t in this._urlData)u.call(this._urlData,t)&&(e[t]=this._urlData[t]);return e},wrapTimeout:a.callbackifyPromiseWithTimeout,_timeoutHandler:function(e,t,r){var n=this;return function(){var i=new c("ETIMEDOUT");i.code="ETIMEDOUT",t._isAborted=!0,t.abort(),r.call(n,new c.StripeConnectionError({message:"Request aborted due to timeout being reached ("+e+"ms)",detail:i}),null)}},_responseHandler:function(e,t){var r=this;return function(n){var i="";n.setEncoding("utf8"),n.on("data",function(e){i+=e}),n.on("end",function(){var s=n.headers||{};n.requestId=s["request-id"];var o=Date.now()-e._requestStart,u=a.removeEmpty({api_version:s["stripe-version"],account:s["stripe-account"],idempotency_key:s["idempotency-key"],method:e._requestEvent.method,path:e._requestEvent.path,status:n.statusCode,request_id:n.requestId,elapsed:o});r._stripe._emitter.emit("response",u);try{var d;if((i=JSON.parse(i)).error)return i.error.headers=s,i.error.statusCode=n.statusCode,i.error.requestId=n.requestId,d=401===n.statusCode?new c.StripeAuthenticationError(i.error):403===n.statusCode?new c.StripePermissionError(i.error):429===n.statusCode?new c.StripeRateLimitError(i.error):c.StripeError.generate(i.error),t.call(r,d,null)}catch(e){return t.call(r,new c.StripeAPIError({message:"Invalid JSON received from the Stripe API",response:i,exception:e,requestId:s["request-id"]}),null)}r._recordRequestMetrics(n.requestId,o),Object.defineProperty(i,"lastResponse",{enumerable:!1,writable:!1,value:n}),t.call(r,null,i)})}},_generateConnectionErrorMessage:function(e){return"An error occurred with our connection to Stripe."+(e>0?" Request was retried "+e+" times.":"")},_errorHandler:function(e,t,r){var n=this;return function(i){e._isAborted||r.call(n,new c.StripeConnectionError({message:n._generateConnectionErrorMessage(t),detail:i}),null)}},_shouldRetry:function(e,t){return!(t>=this._stripe.getMaxNetworkRetries())&&(!e||(409===e.statusCode||503===e.statusCode||e.statusCode>=500&&"POST"!==e.req._requestEvent.method))},_getSleepTimeInMS:function(e){var t=this._stripe.getInitialNetworkRetryDelay(),r=this._stripe.getMaxNetworkRetryDelay(),n=Math.min(t*Math.pow(e-1,2),r);return n*=.5*(1+Math.random()),1e3*(n=Math.max(t,n))},_defaultHeaders:function(e,t,r){var n="Stripe/v1 NodeBindings/"+this._stripe.getConstant("PACKAGE_VERSION");this._stripe._appInfo&&(n+=" "+this._stripe.getAppInfoAsString());var i={Authorization:e?"Bearer "+e:this._stripe.getApiField("auth"),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","Content-Length":t,"User-Agent":n};return r&&(i["Stripe-Version"]=r),i},_addTelemetryHeader:function(e){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){var t=this._stripe._prevRequestMetrics.shift();e["X-Stripe-Client-Telemetry"]=JSON.stringify({last_request_metrics:t})}},_recordRequestMetrics:function(e,t){this._stripe.getTelemetryEnabled()&&e&&(this._stripe._prevRequestMetrics.length>l.MAX_BUFFERED_REQUEST_METRICS?a.emitWarning("Request metrics buffer is full, dropping telemetry message."):this._stripe._prevRequestMetrics.push({request_id:e,request_duration_ms:t}))},_request:function(e,t,r,s,c,u,l){var h,f=this;function m(e,t){var r,n;if(e)return l(e);r=f._stripe.getApiField("version"),h=t,n=f._defaultHeaders(c,h.length,r),f._stripe.getClientUserAgent(function(e){n["X-Stripe-Client-User-Agent"]=e,u.headers&&Object.assign(n,u.headers),f._addTelemetryHeader(n),y(r,n)})}function v(e,t,r,n){return n+=1,setTimeout(e,f._getSleepTimeInMS(n),t,r,n)}function y(s,c,u){var m=f._stripe.getApiField("timeout"),g="http"==f._stripe.getApiField("protocol"),I=f._stripe.getApiField("agent");null==I&&(I=g?d:p);var E=(g?n:i).request({host:t||f._stripe.getApiField("host"),port:f._stripe.getApiField("port"),path:r,method:e,agent:I,headers:c,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});"POST"===e&&f._stripe.getMaxNetworkRetries()>0&&(c.hasOwnProperty("Idempotency-Key")||(c["Idempotency-Key"]=o()));var P=a.removeEmpty({api_version:s,account:c["Stripe-Account"],idempotency_key:c["Idempotency-Key"],method:e,path:r}),S=u||0;E._requestEvent=P,E._requestStart=Date.now(),f._stripe._emitter.emit("request",P),E.setTimeout(m,f._timeoutHandler(m,E,l)),E.on("response",function(e){return f._shouldRetry(e,S)?v(y,s,c,S):f._responseHandler(E,l)(e)}),E.on("error",function(e){return f._shouldRetry(null,S)?v(y,s,c,S):f._errorHandler(E,S,l)(e)}),E.on("socket",function(e){e.connecting?e.on(g?"connect":"secureConnect",function(){E.write(h),E.end()}):(E.write(h),E.end())})}f.requestDataProcessor?f.requestDataProcessor(e,s,u.headers,m):m(null,a.stringifyRequestData(s||{}))}},e.exports=l},function(e,t,r){"use strict";var n,i=r(3).Buffer,s=r(8).EventEmitter,o=r(22),a=r(4),c={}.hasOwnProperty,u=r(11),d=["api_key","idempotency_key","stripe_account","stripe_version"],p=e.exports={isAuthKey:function(e){return"string"==typeof e&&/^(?:[a-z]{2}_)?[A-z0-9]{32}$/.test(e)},isOptionsHash:function(e){return u(e)&&d.some(function(t){return c.call(e,t)})},stringifyRequestData:function(e){return o.stringify(e,{serializeDate:function(e){return Math.floor(e.getTime()/1e3)}}).replace(/%5B/g,"[").replace(/%5D/g,"]")},makeURLInterpolator:(n={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"},function(e){var t=e.replace(/["\n\r\u2028\u2029]/g,function(e){return n[e]});return function(e){return t.replace(/\{([\s\S]+?)\}/g,function(t,r){return encodeURIComponent(e[r]||"")})}}),getDataFromArgs:function(e){if(e.length<1||!u(e[0]))return{};if(!p.isOptionsHash(e[0]))return e.shift();var t=Object.keys(e[0]),r=t.filter(function(e){return d.indexOf(e)>-1});return r.length>0&&r.length!==t.length&&l("Options found in arguments ("+r.join(", ")+"). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options."),{}},getOptionsFromArgs:function(e){var t={auth:null,headers:{}};if(e.length>0){var r=e[e.length-1];if(p.isAuthKey(r))t.auth=e.pop();else if(p.isOptionsHash(r)){var n=e.pop(),i=Object.keys(n).filter(function(e){return-1==d.indexOf(e)});i.length&&l("Invalid options found ("+i.join(", ")+"); ignoring."),n.api_key&&(t.auth=n.api_key),n.idempotency_key&&(t.headers["Idempotency-Key"]=n.idempotency_key),n.stripe_account&&(t.headers["Stripe-Account"]=n.stripe_account),n.stripe_version&&(t.headers["Stripe-Version"]=n.stripe_version)}}return t},protoExtend:function(e){var t=this,r=c.call(e,"constructor")?e.constructor:function(){t.apply(this,arguments)};return Object.assign(r,t),r.prototype=Object.create(t.prototype),Object.assign(r.prototype,e),r},secureCompare:function(e,t){if(e=i.from(e),t=i.from(t),e.length!==t.length)return!1;if(a.timingSafeEqual)return a.timingSafeEqual(e,t);for(var r=e.length,n=0,s=0;s<r;++s)n|=e[s]^t[s];return 0===n},removeEmpty:function(e){if("object"!=typeof e)throw new Error("Argument must be an object");return Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]||delete e[t]}),e},checkForStream:function(e){return!(!e.file||!e.file.data)&&e.file.data instanceof s},callbackifyPromiseWithTimeout:function(e,t){return t?e.then(function(e){setTimeout(function(){t(null,e)},0)},function(e){setTimeout(function(){t(e,null)},0)}):e},pascalToCamelCase:function(e){return"OAuth"===e?"oauth":e[0].toLowerCase()+e.substring(1)},emitWarning:l};function l(e){return"function"!=typeof process.emitWarning?console.warn("Stripe: "+e):process.emitWarning(e,"Stripe")}},function(e,t,r){"use strict";var n=r(1);function i(e){this.populate.apply(this,arguments),this.stack=new Error(this.message).stack}e.exports=i,i.prototype=Object.create(Error.prototype),i.prototype.type="GenericError",i.prototype.populate=function(e,t){this.type=e,this.message=t},i.extend=n.protoExtend;var s=i.StripeError=i.extend({type:"StripeError",populate:function(e){this.type=this.type,this.stack=new Error(e.message).stack,this.rawType=e.type,this.code=e.code,this.param=e.param,this.message=e.message,this.detail=e.detail,this.raw=e,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode}});s.generate=function(e){switch(e.type){case"card_error":return new i.StripeCardError(e);case"invalid_request_error":return new i.StripeInvalidRequestError(e);case"api_error":return new i.StripeAPIError(e);case"idempotency_error":return new i.StripeIdempotencyError(e)}return new i("Generic","Unknown Error")},i.StripeCardError=s.extend({type:"StripeCardError"}),i.StripeInvalidRequestError=s.extend({type:"StripeInvalidRequestError"}),i.StripeAPIError=s.extend({type:"StripeAPIError"}),i.StripeAuthenticationError=s.extend({type:"StripeAuthenticationError"}),i.StripePermissionError=s.extend({type:"StripePermissionError"}),i.StripeRateLimitError=s.extend({type:"StripeRateLimitError"}),i.StripeConnectionError=s.extend({type:"StripeConnectionError"}),i.StripeSignatureVerificationError=s.extend({type:"StripeSignatureVerificationError"}),i.StripeIdempotencyError=s.extend({type:"StripeIdempotencyError"})},function(e,t,r){var n=r(21),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";r(16).config(),e.exports={country:process.env.STRIPE_ACCOUNT_COUNTRY,currency:"eur",paymentMethods:["alipay","bancontact","card","eps","giropay","ideal","multibanco","sofort","wechat"],stripe:{country:process.env.STRIPE_ACCOUNT_COUNTRY,apiVersion:"2018-02-28",publishableKey:process.env.STRIPE_PUBLISHABLE_KEY,secretKey:process.env.STRIPE_SECRET_KEY,webhookSecret:process.env.STRIPE_WEBHOOK_SECRET},shippingOptions:[]}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var s=t[n],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],d=o[u];"object"==typeof d&&null!==d&&-1===r.indexOf(d)&&(t.push({obj:o,prop:u}),r.push(d))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var n=[],s=0;s<r.length;++s)void 0!==r[s]&&n.push(r[s]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n="string"==typeof e?e:String(e);if("iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var i="",o=0;o<n.length;++o){var a=n.charCodeAt(o);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?i+=n.charAt(o):a<128?i+=s[a]:a<2048?i+=s[192|a>>6]+s[128|63&a]:a<55296||a>=57344?i+=s[224|a>>12]+s[128|a>>6&63]+s[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&n.charCodeAt(o)),i+=s[240|a>>18]+s[128|a>>12&63]+s[128|a>>6&63]+s[128|63&a])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,s){if(!r)return t;if("object"!=typeof r){if(i(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(s&&(s.plainObjects||s.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return i(t)&&!i(r)&&(a=o(t,s)),i(t)&&i(r)?(r.forEach(function(r,i){if(n.call(t,i)){var o=t[i];o&&"object"==typeof o&&r&&"object"==typeof r?t[i]=e(o,r,s):t.push(r)}else t[i]=r}),t):Object.keys(r).reduce(function(t,i){var o=r[i];return n.call(t,i)?t[i]=e(t[i],o,s):t[i]=o,t},a)}}},function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t){var r="[object Object]";var n,i,s=Function.prototype,o=Object.prototype,a=s.toString,c=o.hasOwnProperty,u=a.call(Object),d=o.toString,p=(n=Object.getPrototypeOf,i=Object,function(e){return n(i(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||d.call(e)!=r||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=p(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==u}},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({create:i({method:"POST",path:"accounts"}),list:i({method:"GET",path:"accounts",methodType:"list"}),update:i({method:"POST",path:"accounts/{id}",urlParams:["id"]}),del:i({method:"DELETE",path:"accounts/{id}",urlParams:["id"]}),reject:i({method:"POST",path:"accounts/{id}/reject",urlParams:["id"]}),retrieve:function(e){return"string"==typeof e?i({method:"GET",path:"accounts/{id}",urlParams:["id"]}).apply(this,arguments):(null==e&&[].shift.apply(arguments),i({method:"GET",path:"account"}).apply(this,arguments))},createExternalAccount:i({method:"POST",path:"accounts/{accountId}/external_accounts",urlParams:["accountId"]}),listExternalAccounts:i({method:"GET",path:"accounts/{accountId}/external_accounts",urlParams:["accountId"],methodType:"list"}),retrieveExternalAccount:i({method:"GET",path:"accounts/{accountId}/external_accounts/{externalAccountId}",urlParams:["accountId","externalAccountId"]}),updateExternalAccount:i({method:"POST",path:"accounts/{accountId}/external_accounts/{externalAccountId}",urlParams:["accountId","externalAccountId"]}),deleteExternalAccount:i({method:"DELETE",path:"accounts/{accountId}/external_accounts/{externalAccountId}",urlParams:["accountId","externalAccountId"]}),createLoginLink:i({method:"POST",path:"accounts/{accountId}/login_links",urlParams:["accountId"]}),createPerson:i({method:"POST",path:"accounts/{accountId}/persons",urlParams:["accountId"]}),listPersons:i({method:"GET",path:"accounts/{accountId}/persons",urlParams:["accountId"],methodType:"list"}),retrievePerson:i({method:"GET",path:"accounts/{accountId}/persons/{personId}",urlParams:["accountId","personId"]}),updatePerson:i({method:"POST",path:"accounts/{accountId}/persons/{personId}",urlParams:["accountId","personId"]}),deletePerson:i({method:"DELETE",path:"accounts/{accountId}/persons/{personId}",urlParams:["accountId","personId"]})})},function(e,t,r){"use strict";var n=r(1),i=r(14),s=r(30).makeAutoPaginationMethods;e.exports=function(e){return function(){var t=[].slice.call(arguments),r="function"==typeof t[t.length-1]&&t.pop(),o=n.callbackifyPromiseWithTimeout(i(this,t,e,{}),r);if("list"===e.methodType){var a=s(this,t,e,o);Object.assign(o,a)}return o}}},function(e,t,r){"use strict";var n=r(1),i=/^optional!/;e.exports=function(e,t,r,s){return new Promise(function(o,a){try{var c=function(e,t,r,s){for(var o="function"==typeof r.path?r.path:n.makeURLInterpolator(r.path||""),a=(r.method||"GET").toUpperCase(),c=r.urlParams||[],u=r.encode||function(e){return e},d=r.host,p=[].slice.call(t),l=e.createUrlData(),h=0,f=c.length;h<f;++h){var m,v=p[0],y=c[h],g=i.test(y);if("id"==(y=y.replace(i,""))&&"string"!=typeof v)throw m=e.createResourcePathWithSymbols(r.path),new Error('Stripe: "id" must be a string, but got: '+typeof v+" (on API request to `"+a+" "+m+"`)");if(!v){if(g){l[y]="";continue}throw m=e.createResourcePathWithSymbols(r.path),new Error('Stripe: Argument "'+c[h]+'" required, but got: '+v+" (on API request to `"+a+" "+m+"`)")}l[y]=p.shift()}var I=n.getDataFromArgs(p),E=u(Object.assign({},I,s)),P=n.getOptionsFromArgs(p);if(p.length)throw m=e.createResourcePathWithSymbols(r.path),new Error("Stripe: Unknown arguments ("+p+"). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to "+a+" `"+m+"`)");var S=e.createFullPath(o,l),b=Object.assign(P.headers,r.headers);return r.validator&&r.validator(E,{headers:b}),{requestMethod:a,requestPath:S,data:E,auth:P.auth,headers:b,host:d}}(e,t,r,s)}catch(e){return void a(e)}e._request(c.requestMethod,c.host,c.requestPath,c.data,c.auth,{headers:c.headers},function(e,t){e?a(e):o(r.transformResponseData?r.transformResponseData(t):t)})})}},function(e,t,r){"use strict";var n=r(3).Buffer,i=r(4),s=r(1),o=r(2),a={DEFAULT_TOLERANCE:300,constructEvent:function(e,t,r,n){return this.signature.verifyHeader(e,t,r,n||a.DEFAULT_TOLERANCE),JSON.parse(e)}},c={EXPECTED_SCHEME:"v1",_computeSignature:function(e,t){return i.createHmac("sha256",t).update(e,"utf8").digest("hex")},verifyHeader:function(e,t,r,i){e=n.isBuffer(e)?e.toString("utf8"):e;var a=function(e,t){if("string"!=typeof e)return null;return e.split(",").reduce(function(e,r){var n=r.split("=");return"t"===n[0]&&(e.timestamp=n[1]),n[0]===t&&e.signatures.push(n[1]),e},{timestamp:-1,signatures:[]})}(t=n.isBuffer(t)?t.toString("utf8"):t,this.EXPECTED_SCHEME);if(!a||-1===a.timestamp)throw new o.StripeSignatureVerificationError({message:"Unable to extract timestamp and signatures from header",detail:{header:t,payload:e}});if(!a.signatures.length)throw new o.StripeSignatureVerificationError({message:"No signatures found with expected scheme",detail:{header:t,payload:e}});var c=this._computeSignature(a.timestamp+"."+e,r);if(!!!a.signatures.filter(s.secureCompare.bind(s,c)).length)throw new o.StripeSignatureVerificationError({message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? https://github.com/stripe/stripe-node#webhook-signing",detail:{header:t,payload:e}});var u=Math.floor(Date.now()/1e3)-a.timestamp;if(i>0&&u>i)throw new o.StripeSignatureVerificationError({message:"Timestamp outside the tolerance zone",detail:{header:t,payload:e}});return!0}};a.signature=c,e.exports=a},function(e,t,r){const n=r(17),i=r(5);function s(e){console.log(`[dotenv][DEBUG] ${e}`)}const o="\n",a=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,c=/\\n/g;function u(e,t){const r=Boolean(t&&t.debug),n={};return e.toString().split(o).forEach(function(e,t){const i=e.match(a);if(null!=i){const e=i[1];let t=i[2]||"";const r=t.length-1,s='"'===t[0]&&'"'===t[r];"'"===t[0]&&"'"===t[r]||s?(t=t.substring(1,r),s&&(t=t.replace(c,o))):t=t.trim(),n[e]=t}else r&&s(`did not match key and value when parsing line ${t+1}: ${e}`)}),n}e.exports.config=function(e){let t=i.resolve(process.cwd(),".env"),r="utf8",o=!1;e&&(null!=e.path&&(t=e.path),null!=e.encoding&&(r=e.encoding),null!=e.debug&&(o=!0));try{const e=u(n.readFileSync(t,{encoding:r}),{debug:o});return Object.keys(e).forEach(function(t){process.env.hasOwnProperty(t)?o&&s(`"${t}" is already defined in \`process.env\` and will not be overwritten`):process.env[t]=e[t]}),{parsed:e}}catch(e){return{error:e}}},e.exports.parse=u},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";u.DEFAULT_HOST="api.stripe.com",u.DEFAULT_PORT="443",u.DEFAULT_BASE_PATH="/v1/",u.DEFAULT_API_VERSION=null,u.DEFAULT_TIMEOUT=r(7).createServer().timeout,u.PACKAGE_VERSION=r(19).version,u.USER_AGENT={bindings_version:u.PACKAGE_VERSION,lang:"node",lang_version:process.version,platform:process.platform,publisher:"stripe",uname:null},u.USER_AGENT_SERIALIZED=null,u.MAX_NETWORK_RETRY_DELAY_SEC=2,u.INITIAL_NETWORK_RETRY_DELAY_SEC=.5;var n=["name","version","url","partner_id"],i=r(8).EventEmitter,s=r(20).exec,o=r(1),a=r(25),c={Account:r(12),Accounts:r(12),AccountLinks:r(32),ApplePayDomains:r(33),ApplicationFees:r(34),Balance:r(35),BitcoinReceivers:r(36),Charges:r(37),CountrySpecs:r(38),Coupons:r(39),CreditNotes:r(40),Customers:r(41),Disputes:r(42),EphemeralKeys:r(43),Events:r(44),ExchangeRates:r(45),Files:r(46),FileLinks:r(48),InvoiceItems:r(49),Invoices:r(50),IssuerFraudRecords:r(51),LoginLinks:r(52),OAuth:r(53),OrderReturns:r(54),Orders:r(55),PaymentIntents:r(56),PaymentMethods:r(57),Payouts:r(58),Plans:r(59),Products:r(60),RecipientCards:r(61),Recipients:r(62),Refunds:r(63),Reviews:r(64),Skus:r(65),Sources:r(66),SubscriptionItems:r(67),SubscriptionSchedules:r(68),Subscriptions:r(69),ThreeDSecure:r(70),Tokens:r(71),Topups:r(72),Transfers:r(73),UsageRecords:r(74),UsageRecordSummaries:r(75),WebhookEndpoints:r(76),ApplicationFeeRefunds:r(77),ChargeRefunds:r(78),CustomerCards:r(79),CustomerSubscriptions:r(80),Persons:r(81),SubscriptionScheduleRevisions:r(82),TaxIds:r(83),TransferReversals:r(84),Checkout:a("checkout",{Sessions:r(85)}),Issuing:a("issuing",{Authorizations:r(86),Cardholders:r(87),Cards:r(88),Disputes:r(89),Transactions:r(90)}),Radar:a("radar",{ValueLists:r(91),ValueListItems:r(92)}),Reporting:a("reporting",{ReportRuns:r(93),ReportTypes:r(94)}),Sigma:a("sigma",{ScheduledQueryRuns:r(95)}),Terminal:a("terminal",{ConnectionTokens:r(96),Locations:r(97),Readers:r(98)})};function u(e,t){if(!(this instanceof u))return new u(e,t);Object.defineProperty(this,"_emitter",{value:new i,enumerable:!1,configurable:!1,writeable:!1}),this.on=this._emitter.on.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter),this._api={auth:null,host:u.DEFAULT_HOST,port:u.DEFAULT_PORT,basePath:u.DEFAULT_BASE_PATH,version:u.DEFAULT_API_VERSION,timeout:u.DEFAULT_TIMEOUT,agent:null,dev:!1,maxNetworkRetries:0},this._prepResources(),this.setApiKey(e),this.setApiVersion(t),this.errors=r(2),this.webhooks=r(15),this._prevRequestMetrics=[],this.setTelemetryEnabled(!1)}c.FileUploads=c.Files,u.StripeResource=r(0),u.resources=c,u.errors=r(2),u.webhooks=r(15),u.prototype={setHost:function(e,t,r){this._setApiField("host",e),t&&this.setPort(t),r&&this.setProtocol(r)},setProtocol:function(e){this._setApiField("protocol",e.toLowerCase())},setPort:function(e){this._setApiField("port",e)},setApiVersion:function(e){e&&this._setApiField("version",e)},setApiKey:function(e){e&&this._setApiField("auth","Bearer "+e)},setTimeout:function(e){this._setApiField("timeout",null==e?u.DEFAULT_TIMEOUT:e)},setAppInfo:function(e){if(e&&"object"!=typeof e)throw new Error("AppInfo must be an object.");if(e&&!e.name)throw new Error("AppInfo.name is required");e=e||{};var t=n.reduce(function(t,r){return"string"==typeof e[r]&&((t=t||{})[r]=e[r]),t},void 0);u.USER_AGENT_SERIALIZED=void 0,this._appInfo=t},setHttpAgent:function(e){this._setApiField("agent",e)},_setApiField:function(e,t){this._api[e]=t},getApiField:function(e){return this._api[e]},setClientId:function(e){this._clientId=e},getClientId:function(){return this._clientId},getConstant:function(e){return u[e]},getMaxNetworkRetries:function(){return this.getApiField("maxNetworkRetries")},setMaxNetworkRetries:function(e){if(e&&"number"!=typeof e||arguments.length<1)throw new Error("maxNetworkRetries must be a number.");this._setApiField("maxNetworkRetries",e)},getMaxNetworkRetryDelay:function(){return this.getConstant("MAX_NETWORK_RETRY_DELAY_SEC")},getInitialNetworkRetryDelay:function(){return this.getConstant("INITIAL_NETWORK_RETRY_DELAY_SEC")},getClientUserAgent:function(e){if(u.USER_AGENT_SERIALIZED)return e(u.USER_AGENT_SERIALIZED);this.getClientUserAgentSeeded(u.USER_AGENT,function(t){u.USER_AGENT_SERIALIZED=t,e(u.USER_AGENT_SERIALIZED)})},getClientUserAgentSeeded:function(e,t){var r=this;s("uname -a",function(n,i){var s={};for(var o in e)s[o]=encodeURIComponent(e[o]);s.uname=encodeURIComponent(i)||"UNKNOWN",r._appInfo&&(s.application=r._appInfo),t(JSON.stringify(s))})},getAppInfoAsString:function(){if(!this._appInfo)return"";var e=this._appInfo.name;return this._appInfo.version&&(e+="/"+this._appInfo.version),this._appInfo.url&&(e+=" ("+this._appInfo.url+")"),e},setTelemetryEnabled:function(e){this._enableTelemetry=e},getTelemetryEnabled:function(){return this._enableTelemetry},_prepResources:function(){for(var e in c)this[o.pascalToCamelCase(e)]=new c[e](this)}},e.exports=u,e.exports.Stripe=u},function(e){e.exports={_from:"stripe@6.30.0",_id:"stripe@6.30.0",_inBundle:!1,_integrity:"sha512-CZDegnyLjBjlYWl5mq6ixmxdLuKFWuia0AvIVTZv7XM0Hqqq7Z7KCV6VbAxY7iy+1fZCGOvCTJQsS/mQw84D0w==",_location:"/stripe",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"stripe@6.30.0",name:"stripe",escapedName:"stripe",rawSpec:"6.30.0",saveSpec:null,fetchSpec:"6.30.0"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/stripe/-/stripe-6.30.0.tgz",_shasum:"6ab211af6be61f93f6dc977180b4a8e964e00053",_spec:"stripe@6.30.0",_where:"/Users/julesblom/Side/Finished/stripe-payments-demo-netlify",author:{name:"Stripe",email:"support@stripe.com",url:"https://stripe.com/"},bugs:{url:"https://github.com/stripe/stripe-node/issues"},"bugs:":"https://github.com/stripe/stripe-node/issues",bundleDependencies:!1,contributors:[{name:"Ask Bjørn Hansen",email:"ask@develooper.com",url:"http://www.askask.com/"},{name:"Michelle Bu",email:"michelle@stripe.com"},{name:"Alex Sexton",email:"alex@stripe.com"},{name:"James Padolsey"}],dependencies:{"lodash.isplainobject":"^4.0.6",qs:"^6.6.0","safe-buffer":"^5.1.1",uuid:"^3.3.2"},deprecated:!1,description:"Stripe API wrapper",devDependencies:{chai:"~4.1.2","chai-as-promised":"~7.1.1",coveralls:"^3.0.0",eslint:"^4.19.1","eslint-plugin-chai-friendly":"^0.4.0",mocha:"~5.0.5",nock:"^9.0.0",nyc:"^11.3.0"},engines:{node:">=4"},homepage:"https://github.com/stripe/stripe-node",keywords:["stripe","payment processing","credit cards","api"],license:"MIT",main:"lib/stripe.js",name:"stripe",repository:{type:"git",url:"git://github.com/stripe/stripe-node.git"},scripts:{clean:"rm -rf ./.nyc_output ./node_modules/.cache ./coverage",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",lint:"eslint .",mocha:"nyc mocha",report:"nyc -r text -r lcov report",test:"npm run lint && npm run mocha"},version:"6.30.0"}},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("buffer")},function(e,t,r){"use strict";var n=r(23),i=r(24),s=r(10);e.exports={formats:s,parse:i,stringify:n}},function(e,t,r){"use strict";var n=r(9),i=r(10),s=Object.prototype.hasOwnProperty,o={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,a(t)?t:[t])},d=Date.prototype.toISOString,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,formatter:i.formatters[i.default],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,r,i,s,o,c,d,l,h,f,m,v,y){var g=t;if("function"==typeof d?g=d(r,g):g instanceof Date?g=f(g):"comma"===i&&a(g)&&(g=g.join(",")),null===g){if(s)return c&&!v?c(r,p.encoder,y):r;g=""}if("string"==typeof g||"number"==typeof g||"boolean"==typeof g||n.isBuffer(g))return c?[m(v?r:c(r,p.encoder,y))+"="+m(c(g,p.encoder,y))]:[m(r)+"="+m(String(g))];var I,E=[];if(void 0===g)return E;if(a(d))I=d;else{var P=Object.keys(g);I=l?P.sort(l):P}for(var S=0;S<I.length;++S){var b=I[S];o&&null===g[b]||(a(g)?u(E,e(g[b],"function"==typeof i?i(r,b):r,i,s,o,c,d,l,h,f,m,v,y)):u(E,e(g[b],r+(h?"."+b:"["+b+"]"),i,s,o,c,d,l,h,f,m,v,y)))}return E};e.exports=function(e,t){var r,n=e,c=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==e.format){if(!s.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=i.formatters[r],o=p.filter;return("function"==typeof e.filter||a(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:o,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?n=(0,c.filter)("",n):a(c.filter)&&(r=c.filter);var d,h=[];if("object"!=typeof n||null===n)return"";d=t&&t.arrayFormat in o?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var f=o[d];r||(r=Object.keys(n)),c.sort&&r.sort(c.sort);for(var m=0;m<r.length;++m){var v=r[m];c.skipNulls&&null===n[v]||u(h,l(n[v],v,f,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var y=h.join(c.delimiter),g=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),y.length>0?g+y:""}},function(e,t,r){"use strict";var n=r(9),i=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},o=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},a=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(n),a=o?n.slice(0,o.index):n,c=[];if(a){if(!r.plainObjects&&i.call(Object.prototype,a)&&!r.allowPrototypes)return;c.push(a)}for(var u=0;null!==(o=s.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&i.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(o[1])}return o&&c.push("["+n.slice(o.index)+"]"),function(e,t,r){for(var n=t,i=e.length-1;i>=0;--i){var s,o=e[i];if("[]"===o&&r.parseArrays)s=[].concat(n);else{s=r.plainObjects?Object.create(null):{};var a="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=parseInt(a,10);r.parseArrays||""!==a?!isNaN(c)&&o!==a&&String(c)===a&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[])[c]=n:s[a]=n:s={0:n}}n=s}return n}(c,t,r)}};e.exports=function(e,t){var r=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth?e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var r,a={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,u),p=-1,l=t.charset;if(t.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?l="utf-8":"utf8=%26%2310003%3B"===d[r]&&(l="iso-8859-1"),p=r,r=d.length);for(r=0;r<d.length;++r)if(r!==p){var h,f,m=d[r],v=m.indexOf("]="),y=-1===v?m.indexOf("="):v+1;-1===y?(h=t.decoder(m,s.decoder,l),f=t.strictNullHandling?null:""):(h=t.decoder(m.slice(0,y),s.decoder,l),f=t.decoder(m.slice(y+1),s.decoder,l)),f&&t.interpretNumericEntities&&"iso-8859-1"===l&&(f=o(f)),f&&t.comma&&f.indexOf(",")>-1&&(f=f.split(",")),i.call(a,h)?a[h]=n.combine(a[h],f):a[h]=f}return a}(e,r):e,u=r.plainObjects?Object.create(null):{},d=Object.keys(c),p=0;p<d.length;++p){var l=d[p],h=a(l,c[l],r);u=n.merge(u,h,r)}return n.compact(u)}},function(e,t,r){"use strict";function n(e,t){for(var r in t){var n=r[0].toLowerCase()+r.substring(1),i=new t[r](e);this[n]=i}}e.exports=function(e,t){return function(e){return new n(e,t)}},e.exports.ResourceNamespace=n},function(e,t){e.exports=require("https")},function(e,t,r){var n=r(28),i=r(29);e.exports=function(e,t,r){var s=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;++a)t[s+a]=o[a];return t||i(o)}},function(e,t,r){var n=r(4);e.exports=function(){return n.randomBytes(16)}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,r){"use strict";var n=r(14),i=r(1);function s(){return"undefined"!=typeof Symbol&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}e.exports.makeAutoPaginationMethods=function(e,t,r,o){var a={currentPromise:null},c=o,u=0;function d(i){if(!i||!i.data||"number"!=typeof i.data.length)throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");if(u<i.data.length){var s=i.data[u];return u+=1,{value:s,done:!1}}if(i.has_more){u=0;var o=function(e){var t=e.data.length-1,r=e.data[t],n=r&&r.id;if(!n)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return n}(i);return(c=n(e,t,r,{starting_after:o})).then(d)}return{value:void 0,done:!0}}function p(){return function(e,t){return e.currentPromise?e.currentPromise:(e.currentPromise=new Promise(t).then(function(t){return e.currentPromise=void 0,t}),e.currentPromise)}(a,function(e,t){return c.then(d).then(e).catch(t)})}var l=function(e){return function(){var t=[].slice.call(arguments),r=function(e){if(0!==e.length){var t=e[0];if("function"!=typeof t)throw Error("The first argument to autoPagingEach, if present, must be a callback function; receieved "+typeof t);if(2===t.length)return t;if(t.length>2)throw Error("The `onItem` callback function passed to autoPagingEach must accept at most two arguments; got "+t);return function(e,r){var n=t(e);r(n)}}}(t),n=function(e){if(!(e.length<2)){var t=e[1];if("function"!=typeof t)throw Error("The second argument to autoPagingEach, if present, must be a callback function; receieved "+typeof t);return t}}(t);if(t.length>2)throw Error("autoPagingEach takes up to two arguments; received:",t);var s=function(e,t){return new Promise(function(r,n){e().then(function n(i){if(!i.done){var s=i.value;return new Promise(function(e){t(s,e)}).then(function(t){return!1===t?n({done:!0}):e().then(n)})}r()}).catch(n)})}(e,r);return i.callbackifyPromiseWithTimeout(s,n)}}(p),h=function(e){return function(t,r){var n=t&&t.limit;if(!n)throw Error("You must pass a `limit` option to autoPagingToArray, eg; `autoPagingToArray({limit: 1000});`.");if(n>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");var s=new Promise(function(t,r){var i=[];e(function(e){if(i.push(e),i.length>=n)return!1}).then(function(){t(i)}).catch(r)});return i.callbackifyPromiseWithTimeout(s,r)}}(l),f={autoPagingEach:l,autoPagingToArray:h,next:p,return:function(){return{}},[s()]:function(){return f}};return f}},function(e,t,r){"use strict";var n=r(11),i=r(13),s=r(1);e.exports={create:i({method:"POST"}),list:i({method:"GET",methodType:"list"}),retrieve:i({method:"GET",path:"/{id}",urlParams:["id"]}),update:i({method:"POST",path:"{id}",urlParams:["id"]}),del:i({method:"DELETE",path:"{id}",urlParams:["id"]}),setMetadata:function(e,t,r,i,o){var a=this,c=t,u=n(t),d=null===c||u&&!Object.keys(c).length;(d||u)&&"string"==typeof r?i=r:"string"!=typeof i&&(o||"function"!=typeof i||(o=i),i=null);var p=this.createUrlData(),l=this.createFullPath("/"+e,p);return s.callbackifyPromiseWithTimeout(new Promise(function(e,n){if(d)o(null,i);else if(u)this._request("POST",null,l,{metadata:null},i,{},function(e,t){if(e)return n(e);o(c,i)});else{var s={};s[t]=r,o(s,i)}function o(t,r){a._request("POST",null,l,{metadata:t},r,{},function(t,r){t?n(t):e(r.metadata)})}}.bind(this)),o)},getMetadata:function(e,t,r){r||"function"!=typeof t||(r=t,t=null);var n=this.createUrlData(),i=this.createFullPath("/"+e,n);return s.callbackifyPromiseWithTimeout(new Promise(function(e,r){this._request("GET",null,i,{},t,{},function(t,n){t?r(t):e(n.metadata)})}.bind(this)),r)}}},function(e,t,r){"use strict";e.exports=r(0).extend({path:"account_links",includeBasic:["create"]})},function(e,t,r){"use strict";e.exports=r(0).extend({path:"apple_pay/domains",includeBasic:["create","list","retrieve","del"]})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"application_fees",includeBasic:["list","retrieve"],refund:i({method:"POST",path:"/{id}/refund",urlParams:["id"]}),createRefund:i({method:"POST",path:"/{feeId}/refunds",urlParams:["feeId"]}),listRefunds:i({method:"GET",path:"/{feeId}/refunds",urlParams:["feeId"],methodType:"list"}),retrieveRefund:i({method:"GET",path:"/{feeId}/refunds/{refundId}",urlParams:["feeId","refundId"]}),updateRefund:i({method:"POST",path:"/{feeId}/refunds/{refundId}",urlParams:["feeId","refundId"]})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"balance",retrieve:i({method:"GET"}),listTransactions:i({method:"GET",path:"history",methodType:"list"}),retrieveTransaction:i({method:"GET",path:"history/{transactionId}",urlParams:["transactionId"]})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"bitcoin/receivers",includeBasic:["list","retrieve","getMetadata"],listTransactions:i({method:"GET",path:"/{receiverId}/transactions",urlParams:["receiverId"],methodType:"list"})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"charges",includeBasic:["create","list","retrieve","update","setMetadata","getMetadata"],capture:i({method:"POST",path:"/{id}/capture",urlParams:["id"]}),refund:i({method:"POST",path:"/{id}/refund",urlParams:["id"]}),updateDispute:i({method:"POST",path:"/{id}/dispute",urlParams:["id"]}),closeDispute:i({method:"POST",path:"/{id}/dispute/close",urlParams:["id"]}),createRefund:i({method:"POST",path:"/{chargeId}/refunds",urlParams:["chargeId"]}),listRefunds:i({method:"GET",path:"/{chargeId}/refunds",urlParams:["chargeId"],methodType:"list"}),retrieveRefund:i({method:"GET",path:"/{chargeId}/refunds/{refundId}",urlParams:["chargeId","refundId"]}),updateRefund:i({method:"POST",path:"/{chargeId}/refunds/{refundId}",urlParams:["chargeId","refundId"]}),markAsSafe:function(e){return this.update(e,{fraud_details:{user_report:"safe"}})},markAsFraudulent:function(e){return this.update(e,{fraud_details:{user_report:"fraudulent"}})}})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"country_specs",includeBasic:["list","retrieve"]})},function(e,t,r){"use strict";e.exports=r(0).extend({path:"coupons",includeBasic:["create","list","update","retrieve","del"]})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"credit_notes",includeBasic:["create","list","retrieve","update"],voidCreditNote:i({method:"POST",path:"{creditNoteId}/void",urlParams:["creditNoteId"]})})},function(e,t,r){"use strict";var n=r(0),i=r(1),s=n.method;e.exports=n.extend({path:"customers",includeBasic:["create","list","retrieve","update","del","setMetadata","getMetadata"],_legacyUpdateSubscription:s({method:"POST",path:"{customerId}/subscription",urlParams:["customerId"]}),_newstyleUpdateSubscription:s({method:"POST",path:"/{customerId}/subscriptions/{subscriptionId}",urlParams:["customerId","subscriptionId"]}),_legacyCancelSubscription:s({method:"DELETE",path:"{customerId}/subscription",urlParams:["customerId"]}),_newstyleCancelSubscription:s({method:"DELETE",path:"/{customerId}/subscriptions/{subscriptionId}",urlParams:["customerId","subscriptionId"]}),createSubscription:s({method:"POST",path:"/{customerId}/subscriptions",urlParams:["customerId"]}),listSubscriptions:s({method:"GET",path:"/{customerId}/subscriptions",urlParams:["customerId"],methodType:"list"}),retrieveSubscription:s({method:"GET",path:"/{customerId}/subscriptions/{subscriptionId}",urlParams:["customerId","subscriptionId"]}),updateSubscription:function(e,t){return"string"==typeof t?this._newstyleUpdateSubscription.apply(this,arguments):this._legacyUpdateSubscription.apply(this,arguments)},cancelSubscription:function(e,t){return"string"!=typeof t||i.isAuthKey(t)?this._legacyCancelSubscription.apply(this,arguments):this._newstyleCancelSubscription.apply(this,arguments)},createCard:s({method:"POST",path:"/{customerId}/cards",urlParams:["customerId"]}),listCards:s({method:"GET",path:"/{customerId}/cards",urlParams:["customerId"],methodType:"list"}),retrieveCard:s({method:"GET",path:"/{customerId}/cards/{cardId}",urlParams:["customerId","cardId"]}),updateCard:s({method:"POST",path:"/{customerId}/cards/{cardId}",urlParams:["customerId","cardId"]}),deleteCard:s({method:"DELETE",path:"/{customerId}/cards/{cardId}",urlParams:["customerId","cardId"]}),createSource:s({method:"POST",path:"/{customerId}/sources",urlParams:["customerId"]}),listSources:s({method:"GET",path:"/{customerId}/sources",urlParams:["customerId"],methodType:"list"}),retrieveSource:s({method:"GET",path:"/{customerId}/sources/{sourceId}",urlParams:["customerId","sourceId"]}),updateSource:s({method:"POST",path:"/{customerId}/sources/{sourceId}",urlParams:["customerId","sourceId"]}),deleteSource:s({method:"DELETE",path:"/{customerId}/sources/{sourceId}",urlParams:["customerId","sourceId"]}),verifySource:s({method:"POST",path:"/{customerId}/sources/{sourceId}/verify",urlParams:["customerId","sourceId"]}),deleteDiscount:s({method:"DELETE",path:"/{customerId}/discount",urlParams:["customerId"]}),deleteSubscriptionDiscount:s({method:"DELETE",path:"/{customerId}/subscriptions/{subscriptionId}/discount",urlParams:["customerId","subscriptionId"]}),createTaxId:s({method:"POST",path:"/{customerId}/tax_ids",urlParams:["customerId"]}),deleteTaxId:s({method:"DELETE",path:"/{customerId}/tax_ids/{taxIdId}",urlParams:["customerId","taxIdId"]}),listTaxIds:s({method:"GET",path:"/{customerId}/tax_ids",urlParams:["customerId"],methodType:"list"}),retrieveTaxId:s({method:"GET",path:"/{customerId}/tax_ids/{taxIdId}",urlParams:["customerId","taxIdId"]})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"disputes",includeBasic:["list","retrieve","update","setMetadata","getMetadata"],close:i({method:"POST",path:"/{id}/close",urlParams:["id"]})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({create:i({method:"POST",validator:function(e,t){if(!t.headers||!t.headers["Stripe-Version"])throw new Error("stripe_version must be specified to create an ephemeral key")}}),path:"ephemeral_keys",includeBasic:["del"]})},function(e,t,r){"use strict";e.exports=r(0).extend({path:"events",includeBasic:["list","retrieve"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"exchange_rates",includeBasic:["list","retrieve"]})},function(e,t,r){"use strict";var n=r(3).Buffer,i=r(1),s=r(0),o=s.method,a=r(47),c=r(2);e.exports=s.extend({requestDataProcessor:function(e,t,r,s){return t=t||{},"POST"===e?function(t){if(i.checkForStream(t))return o(a);var n=a(e,t,r);return s(null,n)}(t):s(null,i.stringifyRequestData(t));function o(i){var o=[];t.file.data.on("data",function(e){o.push(e)}).on("end",function(){var a=Object.assign({},t);a.file.data=n.concat(o);var c=i(e,a,r);s(null,c)}).on("error",function(e){(function(e){var t=c.extend({type:"StreamProcessingError",populate:function(e){this.type=this.type,this.message=e.message,this.detail=e.detail}});return function(r){e(new t({message:"An error occurred while attempting to process the file for upload.",detail:r}),null)}})(s)(e)})}},path:"files",includeBasic:["list","retrieve"],create:o({method:"POST",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"})})},function(e,t,r){"use strict";var n=r(3).Buffer;e.exports=function(e,t,r){var i=(Math.round(1e16*Math.random())+Math.round(1e16*Math.random())).toString();r["Content-Type"]="multipart/form-data; boundary="+i;var s=n.alloc(0);function o(e){var t=s,r=e instanceof n?e:n.from(e);s=n.alloc(t.length+r.length+2),t.copy(s),r.copy(s,t.length),s.write("\r\n",s.length-2)}function a(e){return'"'+e.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")+'"'}for(var c in t){var u=t[c];o("--"+i),u.hasOwnProperty("data")?(o("Content-Disposition: form-data; name="+a(c)+"; filename="+a(u.name||"blob")),o("Content-Type: "+(u.type||"application/octet-stream")),o(""),o(u.data)):(o("Content-Disposition: form-data; name="+a(c)),o(""),o(u))}return o("--"+i+"--"),s}},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"file_links",includeBasic:["create","list","retrieve","update","setMetadata","getMetadata"]})},function(e,t,r){"use strict";e.exports=r(0).extend({path:"invoiceitems",includeBasic:["create","list","retrieve","update","del","setMetadata","getMetadata"]})},function(e,t,r){"use strict";var n=r(0),i=n.method,s=r(1);e.exports=n.extend({path:"invoices",includeBasic:["create","list","retrieve","update","del"],finalizeInvoice:i({method:"POST",path:"{invoiceId}/finalize",urlParams:["invoiceId"]}),markUncollectible:i({method:"POST",path:"{invoiceId}/mark_uncollectible",urlParams:["invoiceId"]}),pay:i({method:"POST",path:"{invoiceId}/pay",urlParams:["invoiceId"]}),retrieveLines:i({method:"GET",path:"{invoiceId}/lines",urlParams:["invoiceId"]}),retrieveUpcoming:i({method:"GET",path:function(e){var t="upcoming?",r=!1;return e.invoiceOptionsOrCustomerId&&"object"==typeof e.invoiceOptionsOrCustomerId?t+s.stringifyRequestData(e.invoiceOptionsOrCustomerId):(e.invoiceOptionsOrCustomerId&&"string"==typeof e.invoiceOptionsOrCustomerId&&(t=t+"customer="+e.invoiceOptionsOrCustomerId,r=!0),e.invoiceOptionsOrSubscriptionId&&"string"==typeof e.invoiceOptionsOrSubscriptionId?t+(r?"&":"")+"subscription="+e.invoiceOptionsOrSubscriptionId:e.invoiceOptionsOrSubscriptionId&&"object"==typeof e.invoiceOptionsOrSubscriptionId?t+(r?"&":"")+s.stringifyRequestData(e.invoiceOptionsOrSubscriptionId):t)},urlParams:["optional!invoiceOptionsOrCustomerId","optional!invoiceOptionsOrSubscriptionId"]}),sendInvoice:i({method:"POST",path:"{invoiceId}/send",urlParams:["invoiceId"]}),voidInvoice:i({method:"POST",path:"{invoiceId}/void",urlParams:["invoiceId"]})})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"issuer_fraud_records",includeBasic:["list","retrieve"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"accounts/{accountId}/login_links",includeBasic:["create"]})},function(e,t,r){"use strict";var n=r(0),i=n.method,s=r(1),o="connect.stripe.com";e.exports=n.extend({basePath:"/",authorizeUrl:function(e,t){e=e||{};var r="oauth/authorize";return(t=t||{}).express&&(r="express/"+r),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),"https://"+o+"/"+r+"?"+s.stringifyRequestData(e)},token:i({method:"POST",path:"oauth/token",host:o}),deauthorize:function(e){return e.client_id||(e.client_id=this._stripe.getClientId()),i({method:"POST",path:"oauth/deauthorize",host:o}).apply(this,arguments)}})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"order_returns",includeBasic:["list","retrieve"]})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"orders",includeBasic:["create","list","retrieve","update"],pay:i({method:"POST",path:"/{orderId}/pay",urlParams:["orderId"]}),returnOrder:i({method:"POST",path:"/{orderId}/returns",urlParams:["orderId"]})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"payment_intents",includeBasic:["create","list","retrieve","update"],cancel:i({method:"POST",path:"{paymentIntentId}/cancel",urlParams:["paymentIntentId"]}),capture:i({method:"POST",path:"{paymentIntentId}/capture",urlParams:["paymentIntentId"]}),confirm:i({method:"POST",path:"{paymentIntentId}/confirm",urlParams:["paymentIntentId"]})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"payment_methods",includeBasic:["create","list","retrieve","update"],attach:i({method:"POST",path:"{paymentMethodId}/attach",urlParams:["paymentMethodId"]}),detach:i({method:"POST",path:"{paymentMethodId}/detach",urlParams:["paymentMethodId"]})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"payouts",includeBasic:["create","list","retrieve","update","setMetadata","getMetadata"],cancel:i({method:"POST",path:"{payoutId}/cancel",urlParams:["payoutId"]}),listTransactions:i({method:"GET",path:"{payoutId}/transactions",urlParams:["payoutId"],methodType:"list"})})},function(e,t,r){"use strict";e.exports=r(0).extend({path:"plans",includeBasic:["create","list","retrieve","update","del"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"products",includeBasic:["create","list","retrieve","update","del"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"recipients/{recipientId}/cards",includeBasic:["create","list","retrieve","update","del"]})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"recipients",includeBasic:["create","list","retrieve","update","del","setMetadata","getMetadata"],createCard:i({method:"POST",path:"/{recipientId}/cards",urlParams:["recipientId"]}),listCards:i({method:"GET",path:"/{recipientId}/cards",urlParams:["recipientId"],methodType:"list"}),retrieveCard:i({method:"GET",path:"/{recipientId}/cards/{cardId}",urlParams:["recipientId","cardId"]}),updateCard:i({method:"POST",path:"/{recipientId}/cards/{cardId}",urlParams:["recipientId","cardId"]}),deleteCard:i({method:"DELETE",path:"/{recipientId}/cards/{cardId}",urlParams:["recipientId","cardId"]})})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"refunds",includeBasic:["create","list","retrieve","update"]})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"reviews",includeBasic:["list","retrieve"],approve:i({method:"POST",path:"/{id}/approve",urlParams:["id"]})})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"skus",includeBasic:["create","list","retrieve","update","del"]})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"sources",includeBasic:["create","retrieve","update","setMetadata","getMetadata"],listSourceTransactions:i({method:"GET",path:"/{id}/source_transactions",urlParams:["id"],methodType:"list"}),verify:i({method:"POST",path:"/{id}/verify",urlParams:["id"]})})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"subscription_items",includeBasic:["create","list","retrieve","update","del"]})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"subscription_schedules",includeBasic:["create","list","retrieve","update","setMetadata","getMetadata"],release:i({method:"POST",path:"/{id}/release",urlParams:["id"]}),cancel:i({method:"POST",path:"/{id}/cancel",urlParams:["id"]}),listRevisions:i({method:"GET",path:"/{scheduleId}/revisions",urlParams:["scheduleId"],methodType:"list"}),retrieveRevision:i({method:"GET",path:"/{scheduleId}/revisions/{revisionId}",urlParams:["scheduleId","revisionId"]})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"subscriptions",includeBasic:["create","list","retrieve","update","del"],deleteDiscount:i({method:"DELETE",path:"/{subscriptionId}/discount",urlParams:["subscriptionId"]})})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"3d_secure",includeBasic:["create","retrieve"]})},function(e,t,r){"use strict";e.exports=r(0).extend({path:"tokens",includeBasic:["create","retrieve"]})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"topups",includeBasic:["create","list","retrieve","update","setMetadata","getMetadata"],cancel:i({method:"POST",path:"{topupId}/cancel",urlParams:["topupId"]})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"transfers",includeBasic:["create","list","retrieve","update","setMetadata","getMetadata"],reverse:i({method:"POST",path:"/{transferId}/reversals",urlParams:["transferId"]}),cancel:i({method:"POST",path:"{transferId}/cancel",urlParams:["transferId"]}),listTransactions:i({method:"GET",path:"{transferId}/transactions",urlParams:["transferId"],methodType:"list"}),createReversal:i({method:"POST",path:"/{transferId}/reversals",urlParams:["transferId"]}),listReversals:i({method:"GET",path:"/{transferId}/reversals",urlParams:["transferId"],methodType:"list"}),retrieveReversal:i({method:"GET",path:"/{transferId}/reversals/{reversalId}",urlParams:["transferId","reversalId"]}),updateReversal:i({method:"POST",path:"/{transferId}/reversals/{reversalId}",urlParams:["transferId","reversalId"]})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"subscription_items",create:i({method:"POST",path:"{subscriptionItem}/usage_records",urlParams:["subscriptionItem"]})})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"subscription_items",list:i({method:"GET",path:"{subscriptionItem}/usage_record_summaries",urlParams:["subscriptionItem"],methodType:"list"})})},function(e,t,r){"use strict";e.exports=r(0).extend({path:"webhook_endpoints",includeBasic:["create","list","update","retrieve","del"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"application_fees/{feeId}/refunds",includeBasic:["create","list","retrieve","update"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"charges/{chargeId}/refunds",includeBasic:["create","list","retrieve","update"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"customers/{customerId}/cards",includeBasic:["create","list","retrieve","update","del"]})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"customers/{customerId}/subscriptions",includeBasic:["create","list","retrieve","update","del"],deleteDiscount:i({method:"DELETE",path:"/{subscriptionId}/discount",urlParams:["customerId","subscriptionId"]})})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"accounts/{accountId}/persons",includeBasic:["create","del","list","retrieve","update"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"subscription_schedules/{scheduleId}/revisions",includeBasic:["list","retrieve"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"customers/{customerId}/tax_ids",includeBasic:["create","del","list","retrieve"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"transfers/{transferId}/reversals",includeBasic:["create","list","retrieve","update"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"checkout/sessions",includeBasic:["create","retrieve"]})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"issuing/authorizations",includeBasic:["list","retrieve","update","setMetadata","getMetadata"],approve:i({method:"POST",path:"/{id}/approve",urlParams:["id"]}),decline:i({method:"POST",path:"/{id}/decline",urlParams:["id"]})})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"issuing/cardholders",includeBasic:["create","list","retrieve","update","setMetadata","getMetadata"]})},function(e,t,r){"use strict";var n=r(0),i=n.method;e.exports=n.extend({path:"issuing/cards",includeBasic:["create","list","retrieve","update","setMetadata","getMetadata"],retrieveDetails:i({method:"GET",path:"/{id}/details",urlParams:["id"]})})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"issuing/disputes",includeBasic:["create","list","retrieve","update","setMetadata","getMetadata"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"issuing/transactions",includeBasic:["list","retrieve","update","setMetadata","getMetadata"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"radar/value_lists",includeBasic:["create","list","update","retrieve","del"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"radar/value_list_items",includeBasic:["create","list","retrieve","del"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"reporting/report_runs",includeBasic:["create","list","retrieve"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"reporting/report_types",includeBasic:["list","retrieve"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"sigma/scheduled_query_runs",includeBasic:["list","retrieve"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"terminal/connection_tokens",includeBasic:["create"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"terminal/locations",includeBasic:["create","list","retrieve","update","del"]})},function(e,t,r){"use strict";var n=r(0);e.exports=n.extend({path:"terminal/readers",includeBasic:["create","list","retrieve","update","del"]})},function(e,t,r){const n=r(6),i=r(18)(n.stripe.secretKey);i.setApiVersion("2018-02-28");t.products={list:async()=>await i.products.list({limit:3,type:"good"}),retrieve:async e=>await i.products.retrieve(e),exist:e=>{const t=["increment","shirt","pins","muts"];return e.data.reduce((r,n)=>r&&3===e.data.length&&t.includes(n.id),!!e.data.length)},getShippingCost:e=>n.shippingOptions.filter(t=>t.id===e)[0].amount}},,,function(e,t,r){const{products:n}=r(99);t.handler=async function(e,t){if("GET"===e.httpMethod){if(console.log("/products",{event:e}),e.queryStringParameters.id)return console.log("products/ : Querying by id",e.queryStringParameters.id),{statusCode:200,body:JSON.stringify(await n.retrieve(e.queryStringParameters.id))};{const e=await n.list();return console.log(e.data),n.exist(e)?(console.log("Product exists"),{statusCode:200,body:JSON.stringify(e.data)}):(console.log("Product does not exist"),{statusCode:200,body:JSON.stringify(n.list())})}}return{statusCode:400,body:"/products IS A NOT POST METHOD"}}}]));